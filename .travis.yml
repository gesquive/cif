language: go
go:
- 1.10.x
install: make deps
script: make
before_deploy: make dist
deploy:
  provider: releases
  api_key:
    secure: rS4hQCKPzPxSTUJjoZe0IGwV5bGeS/vXAjdfpFVkj2ivTfgIynO6aukOSyp1EiucEDxgmJ0xbWt9mXAb9qD5dhKaRcxigBBiPjHIFaQYqAV8N6+r3DB2pN9WiMaPY5sTn3LEuDpxbWCHp4JPdclxRzz67pMXwIOJS5Qdi0PA+AlTlwdQfJxDlkL9/9jYYT45r87GplattwZir6Du+tcvcIovyyIjbzasyiAZDwcEHdvZoyRrchaL1s2hsaOEI4mOzI3zS6ORYo7yyqyJCuNdFlaDBmHW5aFziUb43nXJgJPbMATUoV9Ak3UL6IWP+bXVTtNRlGX5uTQgNNeUGfgHSI/QKOkiGTV0j0eDxzMpOt+xVqkpoDP5W61nTXwtZi3aCWAeX/8mLxuxUB5P9NtNQxhX4bfaDoE1fJcguZDSoewFXxD9+Uje6ych+HsL7PEWazOtEyMvCewMp1M0BSufhnGuMmVKaPwh07xvUjrokttp33jjuBQ9BY0XDs9T72jOeCaRNH8RyssanJsLtq5qQk/DpLrynN7Ok5bfLWTYfZCAUuTNBKjlnoYZ4c/bZOwoFXCcizhBH/XO6CdzEmsNFWLZdS3NqTK4EfdOguA/xHbY198s4fDPM0jmO34At8WZrqPMYwuGta+Eg2Rvj97lqoGnG0w0TtgLKko/X3JhJ/M=
  file_glob: true
  file:
    - dist/*-v*.tar.gz
    - dist/*-v*.zip
  skip_cleanup: true
  on:
    tags: true
    condition: $TRAVIS_TAG =~ ^v[0-9]+\.[0-9]+(\.[0-9]+)?(-[^ \t\r\n\v\f]*)?$ && $TRAVIS_GO_VERSION =~ ^1\.10\.?[0-9x]*$
